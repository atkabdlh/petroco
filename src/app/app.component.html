<mat-toolbar id="firstToolbar">
  <a routerLink="home">
    <svg xmlns="http://www.w3.org/2000/svg" width="149" height="31">
      <text fill="#004f9f" font-weight="bold" font-size="16">
        <tspan x="65.5" y="21.78">PETRO CO.</tspan>
      </text>
      <path d="M7.0728 5.3511q1.1912-.0286 2.3793.0571h0c.4129-.0587.8322-.0587 1.2452 0a1.746 1.746 0 0 0 .1747.0445c-.0538-.0288-.1137-.0441-.1747-.0445.4045-.0397.812-.0397 1.2166 0h.0413c.179-.0619.3737-.0619.5527 0a1.859 1.859 0 0 1 .9148 0h0c.1811 0 .2923.0731.3177.162.1334.4416.4955.8545.486 1.3119h0a1.039 1.039 0 0 1 .27.4067l2.5857 5.7019a38.73 38.73 0 0 1 1.6582 3.8118c.0912.1157.174.2378.2478.3653l1.6708 3.5863c.2383.1906.3177-.0381.4797-.0571h0l.2636-.4575q4.228-9.1389 8.437-18.281c.127-.2764.2446-.4733.8799-.4638h5.5049c.5369 0 .7656.1176.8895.4003q1.0292 2.3347 2.0901 4.6663l1.4485 3.0844 1.493 3.4943 2.0426 4.2248.9529-1.8551 1.7598-3.9517c.0826-.1842.216-.2319.54-.1779l3.1289.4956a9.954 9.954 0 0 1 1.7058.2541h0l.2097.0286 1.0482.1239c.27.0286.4003.0858.3177.2636l-1.3341 2.7668a37.723 37.723 0 0 1-1.7789 3.8532l-.791 1.8201-2.1505 4.552c.0254.3177-.1747.4797-.8005.4702-1.8869-.0223-3.7737-.035-5.6574 0-.5559 0-.683-.1112-.791-.3717l-.9371-2.0775-1.709-3.8976a1.004 1.004 0 0 1-.2858-.6353h0l-1.8139-3.85-1.8011-3.8118c-.2031-.1469-.3499-.3587-.4161-.6004-.0413-.1207-.0572-.2446-.3716-.1652h0c0 .2891-.3177.5241-.4352.791l-4.0819 8.8689q-2.1251 4.6028-4.2566 9.212c-.0762.1652-.0286.4129-.5432.3939-.5299.0266-1.0611.0096-1.5882-.0508-.7153.0682-1.4353.0682-2.1506 0-.7909.108-1.5882 0-2.3856.0381-.2414 0-.4034-.0731-.4542-.197-.2995-.5147-.5231-1.07-.6639-1.6486h0a1.064 1.064 0 0 1-.2827-.6131 1.524 1.524 0 0 1-.216-.2795l-1.331-2.9447c-.3177-.7878-.864-1.5469-.9879-2.3601h0a1.319 1.319 0 0 1-.1493-.2002l-2.8208-6.172c-.1599-.5064-.4239-.9738-.775-1.3723l-.6354 1.2421-2.0647 4.4471c-.0318.4035-.432.2097-.7529.1462h0l-.4225-.054c-.7176-.0596-1.4307-.1657-2.1346-.3177h0a4.602 4.602 0 0 1-1.061-.1557 4.17 4.17 0 0 1-1.0673-.162h0l-.4225-.0603-.2446-.0667.2446.0667c-.3716-.0985-1.1943.073-1.0006-.3717l2.2236-4.7267a48.989 48.989 0 0 1 2.1664-4.6917h0c.4511-1.2707 1.1436-2.519 1.6868-3.7833.0444-.1366.1842-.2478.4669-.2255z" fill="#a7a7a7"/>
      <path d="M7.5049 4.5728c.8386-.0222 1.6804 0 2.5158.0604h0a4.695 4.695 0 0 1 1.3183 0c.0635.019.1238.0317.1842.0444-.0572-.0289-.1202-.0441-.1842-.0444.4225-.0419.8481-.0419 1.2706 0h.0445c.1891-.0666.3953-.0666.5844 0a1.906 1.906 0 0 1 .953 0h0c.1938 0 .3176.0826.3367.1715.1398.467.5241.9053.5146 1.3882h0c.1281.1174.2253.2647.2827.4288l2.735 6.0354c.6644 1.3104 1.2592 2.6549 1.7821 4.0279a3.142 3.142 0 0 1 .2605.3971q.8862 1.9059 1.7661 3.7896c.251.2001.3399-.0413.5115-.0604h0l.2763-.486q4.4631-9.6567 8.9166-19.3261c.1366-.2922.2605-.4987.9307-.4892h5.8195c.5686 0 .81.1239.9529.4193q1.0864 2.4714 2.2236 4.9364l1.5311 3.2623 1.5883 3.6784 2.16 4.4663 1.0007-1.96 1.8614-4.1771c.0858-.197.2287-.2478.5718-.1906l3.3068.5241c.6068.0379 1.2093.1272 1.8011.2668h0l.2223.035 1.1086.127c.2859.0318.4225.0953.3177.2827l-1.4136 2.9225c-.5472 1.3913-1.174 2.7499-1.8773 4.0691l-.8354 1.925-2.2744 4.8157c.0254.3176-.1875.505-.8513.4923-1.9918-.0222-3.9866-.0349-5.9815 0-.5845 0-.7211-.1175-.8323-.397l-.991-2.195-1.8107-4.1295c-.1736-.1752-.2804-.4056-.3018-.6512h0l-1.9059-4.0533-1.9059-4.0501a1.115 1.115 0 0 1-.4384-.6353c-.0444-.1271-.0635-.2573-.3939-.1747h0c0 .3176-.3335.5495-.4606.8354l-4.3169 9.3803q-2.249 4.8697-4.5012 9.7362c-.0794.1747-.0286.4352-.5717.4161-.566.0281-1.1333.01-1.6963-.054-.7575.0731-1.5202.0731-2.2776 0-.8354.1143-1.6836 0-2.5222.0413a.464.464 0 0 1-.4797-.2097c-.3176-.5436-.5531-1.1313-.6988-1.7439h0a1.099 1.099 0 0 1-.3018-.6353 1.858 1.858 0 0 1-.2509-.3208l-1.4072-3.113c-.3177-.8355-.9117-1.636-1.0451-2.4968h0a1.278 1.278 0 0 1-.1557-.2128l-2.9828-6.5183a4.003 4.003 0 0 0-.7941-1.439l-.6861 1.3119-2.1855 4.7077c-.0318.4256-.4542.2223-.791.1556h0l-.451-.0667a16.859 16.859 0 0 1-2.2522-.3177h0a4.925 4.925 0 0 1-1.1213-.1651 4.68 4.68 0 0 1-1.1213-.1779h0l-.4448-.0636-.2573-.0762.2573.0762c-.3907-.1079-1.2706.0731-1.0546-.397l2.3443-4.9935c.675-1.6908 1.4384-3.3449 2.2871-4.9555h0c.4702-1.3468 1.2008-2.6619 1.7757-3.9992.0667-.1557.2129-.2605.5115-.251z" fill="#004f9f"/>
      <path d="M31.5703.9897c.1366-.2922.2605-.5019.9339-.4892h5.8163c.5686 0 .81.1208.953.4194q1.08 2.4681 2.2235 4.9331l1.528 3.2623 1.5882 3.6817 2.1601 4.4662 1.0006-1.9631 1.8615-4.1772c.0857-.1937.2287-.2446.5717-.1874l3.3068.5241c.6072.0348 1.21.1241 1.8011.2669h0l.2256.0317 1.1086.1303c.2827.0317.4193.0921.3176.2795l-1.4135 2.9224c-.5478 1.3921-1.1746 2.7517-1.8774 4.0724l-.8354 1.925-2.2744 4.8156c.0254.3177-.1843.5019-.8513.4924-1.9917-.0223-3.9866-.0381-5.9815 0-.5845 0-.7179-.1176-.8322-.3939l-.9911-2.1982-1.8075-4.1295a1.058 1.058 0 0 1-.3176-.6544h0l-1.906-4.0501-1.9059-4.0501c-.2138-.156-.3684-.38-.4383-.6353-.0445-.127-.0604-.2604-.3908-.1747h0c0 .3177-.3335.5496-.4637.8323l-5.6098 12.2202c-1.5057 3.2496 2.1886-5.4669 2.4999-22.1724z" fill="#043f7b"/>
    </svg>
  </a>
  <span class="spacer"></span>
  <p *ngIf="loggedIn">{{ userDetails?.name }}</p>
  <mat-label>
    <mat-icon>account_circle</mat-icon>
  </mat-label>
  <mat-select disableOptionCentering panelClass="myPanelClass" *ngIf="loggedIn">
    <mat-option
      style="width: 170px; height: 40px; font-size: 16px; font-weight: lighter; background-color: white"
      (click)="logout()">
      Log Out
    </mat-option>
  </mat-select>
  <mat-select disableOptionCentering panelClass="myPanelClass" *ngIf="!loggedIn">
    <mat-option
      style="width: 170px; height: 40px; font-size: 16px; font-weight: lighter; background-color: white"
      (click)="login()">
      Log In with Google
    </mat-option>
  </mat-select>
  <p>{{ date | date:'d MMM yyyy' }} <br> {{ date | date:'h:mm a' }}</p>
</mat-toolbar>

<div *ngIf="!addVisitor">
  <div class="container" *ngIf="loggedIn">
    <h4>Visitors' List</h4>

    <mat-toolbar id="secondToolbar">
      <span>Total Visitors: {{ list.length }}</span>
      <span class="spacer"></span>
      <a (click)="addNewVisitor()">
        <mat-icon>add_box</mat-icon>
      </a>
      <button mat-button (click)="addNewVisitor()">Add Visitor</button>
    </mat-toolbar>

    <table>
      <tr id="headTable">
        <th style="width: 200px">Name</th>
        <th style="width: 150px">ID No.</th>
        <th style="width: 250px">Company</th>
        <th style="width: 250px">Host</th>
        <th style="width: 150px">Purpose of Visit</th>
        <th style="width: 250px">Remarks</th>
        <th style="width: 50px"></th>
      </tr>

      <tr *ngFor="let visitor of list">
        <td>{{ visitor.visitorName }}</td>
        <td>{{ visitor.id }}</td>
        <td>{{ visitor.visitorComp }}</td>
        <td>{{ visitor.visitorHost }}</td>
        <td>{{ visitor.visitPurpose }}</td>
        <td>
          <form [formGroup]="remarksForm">
            <input formControlName="newRemarks" type=text [value]="visitor.remarks" (keyup.enter)="editRemarks(visitor, remarksForm.value)">
          </form>
        </td>
        <td>
          <a (click)="deleteVisitor(visitor.id)">
            <mat-icon>delete</mat-icon>
          </a>
        </td>
      </tr>

    </table>
  </div>

  <div class="container" *ngIf="!loggedIn">
    <p>Please log in to view visitors.</p>
  </div>
</div>

<div class="container" *ngIf="addVisitor">
  <h4>Add Visitor</h4>

  <form id="newVisitorForm" [formGroup]="visitorForm">
    <label>Name</label><br>
    <input formControlName="visitorName" type="text"><br><br>

    <label>Company</label><br>
    <input formControlName="visitorComp" type="text"><br><br>

    <label>Host</label><br>
    <input formControlName="visitorHost" type="text"><br><br>

    <label>Visit Purpose</label><br>
    <input formControlName="visitPurpose" type="text"><br><br>

    <button class="visitorFormButtons" id="cancel" (click)="closeAddVisitor()">Cancel</button>
    <button class="visitorFormButtons" id="submit" (click)="saveNewVisitor(visitorForm.value)">Add Visitor</button>
  </form>

</div>
